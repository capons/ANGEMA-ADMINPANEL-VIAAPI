{"version":3,"names":[],"mappings":"","sources":["app.js"],"sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\n// var Vue = require('vue');\n// var VueStrap = require('vue-strap/src/index.js');\n\nvar pass = new Vue({\n    el: '#app',\n    components: {\n        'modal': VueStrap.modal\n    },\n    data: {\n        modalAction: '',\n        errorMessages: [],\n        showAddPassModal: false,\n        selectedPasses: window.selectedPasses,\n        passes: window.passes,\n        durations: window.passDurations,\n        selected: { pass_id: '', price: '' }\n    },\n    methods: {\n        addPass: function addPass() {\n            var newPass = { index: this.selected.index, pass_id: this.selected.pass_id, price: this.selected.price };\n            if (!this.validatePass(newPass)) {\n                return false;\n            }\n\n            this.selectedPasses.push(newPass);\n            this.closeModal();\n        },\n        savePass: function savePass() {\n            var pass = { index: this.selected.index, pass_id: this.selected.pass_id, price: this.selected.price };\n\n            if (!this.validatePass(pass)) {\n                return false;\n            }\n            this.selectedPasses[pass.index].pass_id = pass.pass_id;\n            this.selectedPasses[pass.index].price = pass.price;\n            this.closeModal();\n        },\n        removePass: function removePass(index) {\n            this.selectedPasses.splice(index, 1);\n            this.closeModal();\n        },\n        validatePass: function validatePass(newPass) {\n            this.errorMessages = [];\n\n            // if ((newPass.pass_id === '') || !(newPass.pass_id in this.passes)) {\n            if (newPass.pass_id === '') {\n                this.errorMessages.push('The Pass field is required.');\n            }\n            if (newPass.price === '') {\n                this.errorMessages.push('The Price field is required');\n            }\n            for (var i = 0; i < this.selectedPasses.length; i++) {\n                if (this.selectedPasses[i].pass_id == newPass.pass_id && this.modalAction == 'add') {\n                    this.errorMessages.push('Selected pass type is already present.');\n                }\n            }\n\n            if (this.errorMessages.length > 0) {\n                return false;\n            } else {\n                return true;\n            }\n        },\n        closeModal: function closeModal() {\n            this.showAddPassModal = false;\n            this.errorMessages = [];\n            this.selected = { pass_id: '', price: '' };\n        },\n        showModal: function showModal(event) {\n            event.preventDefault();\n            this.errorMessages = [];\n            this.selected = { pass_id: '', price: '' };\n            this.modalAction = 'add';\n            this.showAddPassModal = true;\n        },\n        editPass: function editPass(index) {\n            this.errorMessages = [];\n            this.selected = { index: index,\n                pass_id: this.selectedPasses[index].pass_id,\n                price: this.selectedPasses[index].price\n            };\n            this.modalAction = 'edit';\n            this.showAddPassModal = true;\n        }\n    }\n\n});\n\ndocument.addEventListener(\"keydown\", function (event) {\n    if (pass.showAddPassModal && event.keyCode == 27) {\n        pass.closeModal();\n    }\n});\n\n},{}]},{},[1]);\n"],"file":"app.js","sourceRoot":"/source/"}